<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Logging: Visualization · Dagger.jl</title><meta name="title" content="Logging: Visualization · Dagger.jl"/><meta property="og:title" content="Logging: Visualization · Dagger.jl"/><meta property="twitter:title" content="Logging: Visualization · Dagger.jl"/><meta name="description" content="Documentation for Dagger.jl."/><meta property="og:description" content="Documentation for Dagger.jl."/><meta property="twitter:description" content="Documentation for Dagger.jl."/><meta property="og:url" content="https://JuliaParallel.github.io/Dagger.jl/logging-visualization/"/><meta property="twitter:url" content="https://JuliaParallel.github.io/Dagger.jl/logging-visualization/"/><link rel="canonical" href="https://JuliaParallel.github.io/Dagger.jl/logging-visualization/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.svg" alt="Dagger.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">Dagger.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">Use Cases</span><ul><li><a class="tocitem" href="../use-cases/parallel-nested-loops/">Parallel Nested Loops</a></li></ul></li><li><a class="tocitem" href="../task-spawning/">Task Spawning</a></li><li><a class="tocitem" href="../task-affinity/">Task Affinity</a></li><li><a class="tocitem" href="../data-management/">Data Management</a></li><li><a class="tocitem" href="../darray/">Distributed Arrays</a></li><li><a class="tocitem" href="../streaming/">Streaming Tasks</a></li><li><a class="tocitem" href="../scopes/">Scopes</a></li><li><a class="tocitem" href="../processors/">Processors</a></li><li><a class="tocitem" href="../task-queues/">Task Queues</a></li><li><span class="tocitem">Datadeps</span><ul><li><a class="tocitem" href="../datadeps/">Basics</a></li><li><a class="tocitem" href="../stencils/">Stencils</a></li></ul></li><li><a class="tocitem" href="../gpu/">GPUs</a></li><li><a class="tocitem" href="../propagation/">Option Propagation</a></li><li><span class="tocitem">Logging and Visualization</span><ul><li><a class="tocitem" href="../logging/">Logging: Basics</a></li><li class="is-active"><a class="tocitem" href>Logging: Visualization</a><ul class="internal"><li><a class="tocitem" href="#Logs-visualization-with-show*logs/render*logs"><span>Logs visualization with show<em>logs/render</em>logs</span></a></li><li><a class="tocitem" href="#Continuous-visualization-with-MultiEventLog"><span>Continuous visualization with MultiEventLog</span></a></li><li><a class="tocitem" href="#Visualization-with-DaggerWebDash"><span>Visualization with DaggerWebDash</span></a></li></ul></li><li><a class="tocitem" href="../logging-advanced/">Logging: Advanced</a></li></ul></li><li><span class="tocitem">External Languages</span><ul><li><a class="tocitem" href="../external-languages/python/">Python</a></li></ul></li><li><a class="tocitem" href="../checkpointing/">Checkpointing</a></li><li><a class="tocitem" href="../benchmarking/">Benchmarking</a></li><li><a class="tocitem" href="../dynamic/">Dynamic Scheduler Control</a></li><li><a class="tocitem" href="../scheduler-internals/">Scheduler Internals</a></li><li><span class="tocitem">Dagger API</span><ul><li><a class="tocitem" href="../api-dagger/types/">Types</a></li><li><a class="tocitem" href="../api-dagger/functions/">Functions and Macros</a></li></ul></li><li><span class="tocitem">TimespanLogging API</span><ul><li><a class="tocitem" href="../api-timespanlogging/types/">Types</a></li><li><a class="tocitem" href="../api-timespanlogging/functions/">Functions and Macros</a></li></ul></li><li><span class="tocitem">DaggerWebDash API</span><ul><li><a class="tocitem" href="../api-daggerwebdash/types/">Types</a></li><li><a class="tocitem" href="../api-daggerwebdash/functions/">Functions and Macros</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Logging and Visualization</a></li><li class="is-active"><a href>Logging: Visualization</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Logging: Visualization</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaParallel/Dagger.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaParallel/Dagger.jl/blob/master/docs/src/logging-visualization.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Logs-Visualization"><a class="docs-heading-anchor" href="#Logs-Visualization">Logs Visualization</a><a id="Logs-Visualization-1"></a><a class="docs-heading-anchor-permalink" href="#Logs-Visualization" title="Permalink"></a></h1><p>To make Dagger&#39;s logging facilities useful without having to write custom code, Dagger has built-in and easily accessible logs visualization capabilities. Currently, there are two general mechanisms to visualize logs: <code>show_logs</code>/<code>render_logs</code>, and <code>MultiEventLog</code> consumers.</p><h2 id="Logs-visualization-with-show*logs/render*logs"><a class="docs-heading-anchor" href="#Logs-visualization-with-show*logs/render*logs">Logs visualization with show<em>logs/render</em>logs</a><a id="Logs-visualization-with-show*logs/render*logs-1"></a><a class="docs-heading-anchor-permalink" href="#Logs-visualization-with-show*logs/render*logs" title="Permalink"></a></h2><p>The former (<code>show_logs</code>/<code>render_logs</code>) renders a logs <code>Dict</code> (acquired from <code>fetch_logs!</code>) either to an <code>IO</code> (via <code>show_logs</code>) or by returning a renderable object (via <code>render_logs</code>). This system is designed for rendering a single snapshot of logs into one or a few renderable objects, and is easily extensible by libraries or directly by the user, using multiple dispatch on <code>show_logs(io::IO, logs::Dict, ::Val{mode})</code> and <code>render_logs(logs::Dict, ::Val{mode})</code>, where <code>mode</code> is a unique <code>Symbol</code> identifying the rendering mode to use. From the user&#39;s perspective, <code>show_logs</code> and <code>render_logs</code> take not a <code>Val</code> but a raw <code>Symbol</code>, which will be internally converted to a <code>Val</code> for dispatch purposes (i.e. <code>render_logs(logs::Dict, :myrenderer)</code> -&gt; <code>render_logs(logs, Val{:myrenderer}())</code>).</p><p>Built-in <code>IO</code> support exists for:</p><ul><li><code>show_logs(io, logs, :graphviz)</code> to write a Graphviz dot graph of executed tasks and their dependencies (requires <code>GraphViz.jl</code> to be loaded)</li><li><code>show_logs(io, logs, :chrome_trace)</code> to write a task execution timeline in the chrome-trace format (view in <a href="https://ui.perfetto.dev/">perfetto web UI</a> or <code>about:tracing</code> in a chrome-based browser) (requires <code>JSON3.jl</code> to be loaded)</li></ul><p>Built-in rendering support exists for:</p><ul><li><code>render_logs(logs, :graphviz)</code> to generate a graph diagram of executed tasks and their dependencies (requires <code>GraphViz.jl</code> to be loaded)</li><li><code>render_logs(logs, :plots_gantt)</code> to generate a Gantt chart of task execution across all processors (requires <code>Plots.jl</code> and <code>DataFrames.jl</code> to be loaded)</li></ul><h2 id="Continuous-visualization-with-MultiEventLog"><a class="docs-heading-anchor" href="#Continuous-visualization-with-MultiEventLog">Continuous visualization with MultiEventLog</a><a id="Continuous-visualization-with-MultiEventLog-1"></a><a class="docs-heading-anchor-permalink" href="#Continuous-visualization-with-MultiEventLog" title="Permalink"></a></h2><p>The <code>MultiEventLog</code> mechanism is designed for continuous rendering of logs as they are generated, which permits real-time visualization of Dagger&#39;s operations. This logic is utilized in <code>DaggerWebDash</code>, which provides a web-based dashboard for visualizing Dagger&#39;s operations as a real-time Gantt chart and set of plots for various system metrics (CPU usage, memory usage, worker utilization, etc.).</p><h2 id="Visualization-with-DaggerWebDash"><a class="docs-heading-anchor" href="#Visualization-with-DaggerWebDash">Visualization with DaggerWebDash</a><a id="Visualization-with-DaggerWebDash-1"></a><a class="docs-heading-anchor-permalink" href="#Visualization-with-DaggerWebDash" title="Permalink"></a></h2><p>When working with Dagger, especially when working with its scheduler, it can be helpful to visualize what Dagger is doing internally in near-real-time. To assist with this, a web dashboard is available in the DaggerWebDash.jl package. This web dashboard uses a web server running within each Dagger worker, along with event logging information, to expose details about the scheduler. Information like worker and processor saturation, memory allocations, profiling traces, and much more are available in easy-to-interpret plots.</p><p>Using the dashboard is relatively simple and straightforward; if you run Dagger&#39;s benchmarking script, it&#39;s enabled for you automatically if the <code>BENCHMARK_RENDER</code> environment variable is set to <code>webdash</code>. This is the easiest way to get started with the web dashboard for new users.</p><p>For manual usage, the following snippet of code will suffice:</p><pre><code class="language-julia hljs">using Dagger, DaggerWebDash, TimespanLogging

ctx = Context() # or `ctx = Dagger.Sch.eager_context()` for eager API usage
ml = TimespanLogging.MultiEventLog()

## Add some logging events of interest

ml[:core] = TimespanLogging.Events.CoreMetrics()
ml[:id] = TimespanLogging.Events.IDMetrics()
ml[:timeline] = TimespanLogging.Events.TimelineMetrics()
# ...

# (Optional) Enable profile flamegraph generation with ProfileSVG
ml[:profile] = DaggerWebDash.ProfileMetrics()
ctx.profile = true

# Create a LogWindow; necessary for real-time event updates
lw = TimespanLogging.Events.LogWindow(20*10^9, :core)
ml.aggregators[:logwindow] = lw

# Create the D3Renderer server on port 8080
d3r = DaggerWebDash.D3Renderer(8080)

## Add some plots! Rendered top-down in order

# Show an overview of all generated events as a Gantt chart
push!(d3r, DaggerWebDash.GanttPlot(:core, :id, :esat, :psat; title=&quot;Overview&quot;))

# Show various numerical events as line plots over time
push!(d3r, DaggerWebDash.LinePlot(:core, :wsat, &quot;Worker Saturation&quot;, &quot;Running Tasks&quot;))
push!(d3r, DaggerWebDash.LinePlot(:core, :loadavg, &quot;CPU Load Average&quot;, &quot;Average Running Threads&quot;))
push!(d3r, DaggerWebDash.LinePlot(:core, :bytes, &quot;Allocated Bytes&quot;, &quot;Bytes&quot;))
push!(d3r, DaggerWebDash.LinePlot(:core, :mem, &quot;Available Memory&quot;, &quot;% Free&quot;))

# Show a graph rendering of compute tasks and data movement between them
# Note: Profile events are ignored if absent from the log
push!(d3r, DaggerWebDash.GraphPlot(:core, :id, :timeline, :profile, &quot;DAG&quot;))

# TODO: Not yet functional
#push!(d3r, DaggerWebDash.ProfileViewer(:core, :profile, &quot;Profile Viewer&quot;))

# Add the D3Renderer as a consumer of special events generated by LogWindow
push!(lw.creation_handlers, d3r)
push!(lw.deletion_handlers, d3r)

# D3Renderer is also an aggregator
ml.aggregators[:d3r] = d3r

ctx.log_sink = ml
# ... use `ctx`</code></pre><p>Once the server has started, you can browse to <code>http://localhost:8080/</code> (if running on your local machine) to view the plots in real time. The dashboard also provides options at the top of the page to control the drawing speed, enable and disable reading updates from the server (disabling freezes the display at the current instant), and a selector for which worker to look at. If the connection to the server is lost for any reason, the dashboard will attempt to reconnect at 5 second intervals. The dashboard can usually survive restarts of the server perfectly well, although refreshing the page is usually a good idea. Informational messages are also logged to the browser console for debugging.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../logging/">« Logging: Basics</a><a class="docs-footer-nextpage" href="../logging-advanced/">Logging: Advanced »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Tuesday 23 September 2025 22:18">Tuesday 23 September 2025</span>. Using Julia version 1.11.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
